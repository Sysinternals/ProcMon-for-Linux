# Azure build pipelines for Procmon-for-Linux

resources:
  repositories:
  - repository: Procmon
    type: github
    endpoint: sysinternals
    name: sysinternals/procmon-for-linux

trigger:
    branches:
      include:
        - release/*
        - main
      exclude:
        - dev/*
        - test/*
  
pr:
- main

stages:
 - stage: "Build"
   jobs:
    - job: "Build_Procmon"
      pool: 
        name: "Sysinternals-for-Linux"
        demands:
        - SYSINT_TOOL -equals procmon   
        - SYSINT_DISTRIBUTION -equals ubuntu_18_04
        - SYSINT_ARCHITECTURE -equals x86_64
      steps:
      - checkout: Procmon
      - template: templates/build.yaml